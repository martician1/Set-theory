\begin{problem}
\textbf{(ZFC)}
Нека $\pair{A, \leq}$ е линейно наредено множество, което няма най-голям елемент.
За едно множество $X \subseteq A$, се казва, че е кофинално с $A$, ако:
\[
(\forall a \in A)(\exists x \in X)(a \leq x)
\]

\quad
Докажете, че съществува $B \subseteq A$, което е кофинално с $A$ и $\pair{B, \leq}$ е добре наредено множество.
\end{problem}

\textbf{Решение:}

\smallbreak
\quad
Нека $h: \pow(A) \setminus \varnothing \to A$ е произволна функция на избора,
нека $*$ е такова множество, че $* \notin A$,
нека $r: \pow(A) \to A \cup \{*\}$ е дефинирана като $r \coloneq h \cup {\pair{\varnothing, *}}$ и
нека $G$ е операцията определена от следното свойство:
\[
\varphi(x, y) \coloneq y = r( \{b\ |\ b \in A \land \forall c \in \operatorname{Rng}(x) \cap A \ [c < b] \})
\]

\quad
Тогава от теоремата за трансфинитна рекурсия, съществува определима операция
$F$ такава, че:
\[
(\forall \alpha)[F(\alpha) = G(F \restriction \alpha)]
\]

\quad
Нека $\alpha$ е произволен ординал.

\quad
Твърдим, че ако $* \notin \operatorname{Rng}(F \restriction \alpha)$
(тоест, ако $\operatorname{Rng}(F \restriction \alpha) \subseteq A$), то $(F \restriction \alpha)$ е инективна.
\begin{tcolorbox}[mybox={Доказателство:}]
\begin{remark}
За компактност на записа в рамките на доказателството ще бележим $(F \restriction \alpha)$ с $f$.
\end{remark}

\smallbreak
\quad
Нека $x_1, x_2 \in \alpha$ са такива, че $f(x_1) = f(x_2)$.
Да допуснем, че $x_1 < x_2$.
Тогава:
\begin{alignat*}{2}
f(x_2) & = G(F \restriction x_2)                                                                              & \text{ // от дефиницията на $F$ } \\
       & = r( \{b\ |\ b \in A \land \forall c \in \operatorname{Rng}(F \restriction x_2) \cap A \ [c < b] \}) & \text{ // от дефиницията на $G$ } \\
       & = r( \{b\ |\ b \in A \land \forall c \in \operatorname{Rng}(F \restriction x_2) \ [c < b] \})        & \text{ // от $\operatorname{Rng}(F \restriction x_2) \subseteq \operatorname{Rng}(F \restriction \alpha) \subseteq A$ } \\
       & = h( \{b\ |\ b \in A \land \forall c \in \operatorname{Rng}(F \restriction x_2) \ [c < b] \})        & \text{ // от $f(x_2) \in \operatorname{Rng}(f) \not\ni *$ }
\end{alignat*}

\quad
Тъй като $f(x_1) \in \operatorname{Rng}(F \restriction x_2)$ и $\forall c \in \operatorname{Rng}(F \restriction x_2)\ [f(x_2) > c]$,
то $f(x_1) < f(x_2)$. Противоречие с $f(x_1) = f(x_2)$.
Така $x_1 \not < x_2$.
По аналогичен начин може да се докаже, че $x_1 \not > x_2$, откъдето $x_1 = x_2$.

\quad
Щом за произволни $x_1, x_2 \in \alpha$, $f(x_1) = f(x_2)$ влече, че $x_1 = x_2$, то $f$ е инекция.

\qed
\end{tcolorbox}

\quad
Твърдим, че освен това ако $* \notin \operatorname{Rng}(F \restriction \alpha)$, то
$(F \restriction \alpha)$ запазва наредбата на $\alpha$.
\begin{tcolorbox}[mybox={Доказателство:}]
\quad
В доказателството на предишното твърдение изведохме, че за произволни $x_1, x_2 \in \alpha$,
$x_1 < x_2$ влече, че $f(x_1) < f(x_2)$.

\qed
\end{tcolorbox}


\quad
Твърдим, че също така съществува ординал $\alpha$, за който $F(\alpha) = *$.
\begin{tcolorbox}[mybox={Доказателство:}]
\quad
Нека $\beta$ е произволен ординал, за който $\size{\beta} > \size{A}$.
Ако допуснем, че $*$ не принадлежи на никой ординал, то
от първото твърдение, $F \restriction \beta$ ще е инективна функция от $\beta$ в $A$.
Така $\size{\beta} > \size{A} \land \size{\beta} \leq \size{A}$. Противоречие.
%откъдето по теоремата Кантор-Шрьодер-Бернщайн $\size{A} = \size{\beta}$,
%което противоречи на избора на $\beta$.

\qed
\end{tcolorbox}

\quad
Нека сега вземем $\alpha$ да е най-малкият ординал, за който $F(\alpha) = *$.
Така от свойствата на ординалите ще бъде изпълнено, че:
\[
(\forall \beta)(F(\beta) = * \iff \beta \ge \alpha)
\]

\quad
Нека $B \coloneq \operatorname{Rng}(F \restriction \alpha)$.
Да забележим, че $B$ е подмножество на $A$, тъй като $* \notin \operatorname{Rng}(F \restriction \alpha)$.

\quad
Твърдим, че освен това $B$ е кофинално с $A$.
\begin{tcolorbox}[mybox={Доказателство:}]
\quad
Да допуснем противното.
Нека $a \in A$ е такова, че $\forall b \in B$ $(a > b)$.
Тогава $\{b\ |\ b \in A \land \forall c \in B \ [c < b] \} \neq \varnothing$,
откъдето $r(\{b\ |\ b \in A \land \forall c \in B \ [c < b] \}) = h(\{b\ |\ b \in A \land \forall c \in B \ [c < b] \}) \neq *$.
Но тогава $F(\alpha) \neq *$. Противоречие.

\qed
\end{tcolorbox}

\quad
Накрая остава да съобразим, че тъй като $F \restriction \alpha$ е запазваща наредбата биекция между $\alpha$ и $B$,
и тъй като като ординал $\alpha$ е добре наредено множество, то $B$ също е добре наредено множество.

\qed
